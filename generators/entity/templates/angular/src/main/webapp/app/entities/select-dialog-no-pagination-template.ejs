    <%= entityInstancePlural %>: I<%= entityAngularName %>[];
    currentAccount: any;
    eventSubscriber: Subscription;
    routeData: any;
    // added for Clarity
    loading: any;
    selected: Array<I<%= entityAngularName %>>;
    private _opened: any;

    constructor(
        private <%= entityInstance %>Service: <%= entityAngularName %>Service,
        private jhiAlertService: JhiAlertService,
        <%_ if (fieldsContainBlob) { _%>
        private dataUtils: JhiDataUtils,
        <%_ } _%>
        private eventManager: JhiEventManager,
        private principal: Principal,
        private router: Router,
        public <%= entityInstance %>SelectDialogService: <%= entityAngularName %>SelectDialogService
    ) {
        // added for Clarity
        this.loading = true;
        this.selected = this.<%= entityInstance %>SelectDialogService.selected;
    }

    loadAll() {
        this.<%= entityInstance %>Service.query().subscribe(
            (res: HttpResponse<I<%= entityAngularName %>[]>) => {
                this.<%= entityInstancePlural %> = res.body;
                // added for Clarity
                this.loading = false;
                res.body.forEach(item => {
                    for (let i = 0; i < this.selected.length; i++) {
                        if (item.id === this.selected[i].id) {
                            this.selected[i] = item;
                            break;
                        }
                    }
                });
            },
            (res: HttpErrorResponse) => this.onError(res.message)
        );
    }
