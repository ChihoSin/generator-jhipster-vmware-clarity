import {EventEmitter, Injectable} from '@angular/core';
import {Router} from '@angular/router';

@Injectable()
export class <%= entityAngularName %>SelectModalService {
    submitEvent: EventEmitter<any>;
    closeEvent: EventEmitter<any>;
    selected: Array<any>;
    constructor(private router: Router) {
        this._init();
    }
    submit(selected: Array<any>) {
        this.router.navigate([{ outlets: { popup: null } }]).then(() => {
            this.submitEvent.emit(selected);
            this._init();
        });
    }
    close() {
        this.router.navigate([{ outlets: { popup: null } }]).then(() => {
            this.closeEvent.emit();
            this._init();
        });
    }
    private _init() {
        this.submitEvent = new EventEmitter();
        this.closeEvent = new EventEmitter();
        this.selected = [];
    }
}
